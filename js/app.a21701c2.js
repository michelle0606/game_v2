(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],p=0,f=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/game_v2/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("85ec"),a=n.n(s);a.a},"0445":function(t,e,n){"use strict";var s=n("63a7"),a=n.n(s);a.a},"1a22":function(t,e,n){},"33a8":function(t,e,n){"use strict";var s=n("a19b"),a=n.n(s);a.a},"568f":function(t,e,n){"use strict";var s=n("c457"),a=n.n(s);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r=(n("4989"),n("ab8b"),{name:"App"}),o=r,c=(n("034f"),n("2877")),l=Object(c["a"])(o,a,i,!1,null,null,null),u=l.exports,p=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h2",[t._v("歡迎 Walle")]),t._m(0),t._m(1),n("div",{staticClass:"btns"},[n("router-link",{staticClass:"btn btn-info",attrs:{to:"/"}},[t._v("排行榜")]),n("div",{staticClass:"row-group"},[n("router-link",{staticClass:"btn btn-info",attrs:{to:"/"}},[t._v("限時比賽")]),n("router-link",{staticClass:"btn btn-info",attrs:{to:"/"}},[t._v("搶答競賽")])],1),n("router-link",{staticClass:"btn btn-info",attrs:{to:"/game"}},[t._v("考試模式")])],1),n("div",{staticClass:"signout"},[n("router-link",{staticClass:"btn btn-success",attrs:{to:"/signout"}},[t._v("登出")])],1)])},d=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatar"},[n("img",{attrs:{src:"orange.png",alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info"},[n("div",[t._v("等級：2")]),n("div",[n("div",[t._v("勝率：25.0%")]),n("div",[t._v("【4T.1W.3L】")])]),n("div",[t._v("經驗值：300/2000")])])}],v={},m=v,h=(n("cccb"),Object(c["a"])(m,f,d,!1,null,null,null)),g=h.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("div",{staticClass:"container"},[n("TopArea",{key:t.componentKey,attrs:{initialSetting:t.gameOver},on:{"after-time-is-up":t.afterTimeIsUp}}),n("Question",{key:t.componentKey+1,attrs:{"initial-question":t.questions,"initial-qn":t.qn,"initial-point":t.point},on:{"after-click-button":t.afterClickButton}})],1),t.isShow?n("Result",{key:t.componentKey+2,attrs:{total:t.point,cc:t.correctCount},on:{"after-forces-update":t.afterForcesUpdate}}):t._e()],1)},b=[],C=(n("4de4"),n("4160"),n("159b"),n("96cf"),n("1da1")),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-content"},[n("div",{staticClass:"my-progress"},[n("div",{staticClass:"my-point"},[t._v(t._s(t.point))]),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar bg-info",staticStyle:{width:"0%"},attrs:{id:"my-progress",role:"progressbar","aria-valuenow":t.point,"aria-valuemin":"0","aria-valuemax":"1000"}})])]),n("div",{staticClass:"question"},[n("div",[t._v("《Q "+t._s(t.qn+1)+"》")]),n("div",{staticClass:"description"},[t._v(t._s(t.questions.Content))]),n("div",{staticClass:"answers",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.judge(e)}}},[n("button",{staticClass:"option generalColor",attrs:{id:"1"}},[n("span",[t._v(t._s(t.questions.Option1))])]),n("button",{staticClass:"option generalColor",attrs:{id:"2"}},[n("span",[t._v(t._s(t.questions.Option2))])]),n("button",{staticClass:"option generalColor",attrs:{id:"3"}},[n("span",[t._v(t._s(t.questions.Option3))])]),n("button",{staticClass:"option generalColor",attrs:{id:"4"}},[n("span",[t._v(t._s(t.questions.Option4))])]),n("button",{staticClass:"option generalColor",attrs:{id:"5"}},[n("span",[t._v(t._s(t.questions.Option5))])])])]),t._m(0)])},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"the-other-progress"},[n("div",{staticClass:"the-other-point"}),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar bg-warning",staticStyle:{width:"0%"},attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}})])])}],q=(n("a9e3"),n("ac1f"),n("5319"),n("5530")),O=new Audio("correct.ogg"),k=new Audio("mistake.ogg"),$={props:{initialQuestion:{type:Object,required:!0},initialQn:{type:Number,required:!0},initialPoint:{type:Number,required:!0}},data:function(){return{questions:this.initialQuestion,qn:this.initialQn,point:this.initialPoint,state:"wrong",formula:"$$x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}.$$"}},watch:{initialQuestion:function(t){this.questions=Object(q["a"])({},this.questions,{},t)}},methods:{judge:function(t){var e=document.getElementById("".concat(this.questions.Solution)),n=t.target.closest(".option"),s=document.querySelectorAll(".option");s.forEach((function(t){t.disabled=!0})),e.classList.replace("generalColor","bingoColor"),n===e?(O.play(),this.point=this.point+200,document.getElementById("my-progress").style.width="".concat(this.point/10,"%"),this.state="correct"):(k.play(),this.state="wrong"),setTimeout(this.twoSecond,2e3)},twoSecond:function(){var t=document.getElementById("".concat(this.questions.Solution)),e=document.querySelectorAll(".option");e.forEach((function(t){t.disabled=!1})),t.classList.replace("bingoColor","generalColor"),this.qn+=1,this.handleClick()},handleClick:function(){this.$emit("after-click-button",{questionId:this.questions.ID,qn:this.qn,state:this.state})}}},x=$,E=(n("33a8"),Object(c["a"])(x,y,w,!1,null,null,null)),S=E.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatar-and-time"},[t._m(0),n("div",{staticClass:"middle"},[n("div",{staticClass:"time"},[n("div",{staticClass:"number"},[t._v(t._s(t.timer))])])]),t._m(1)])},T=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right"},[n("img",{attrs:{src:"orange.png",alt:""}}),n("div",{staticClass:"my-name"},[t._v("Walle")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left"},[n("img",{attrs:{src:"apple.png",alt:""}}),n("div",{staticClass:"the-other-name"},[t._v("電腦")])])}],I={props:{initialSetting:{type:Boolean,required:!0}},data:function(){return{timer:"",value:53,isShow:!1,gameOver:this.initialSetting}},created:function(){this.get()},methods:{get:function(){this.timer=this.value,this.value>50&&(this.timer=50),this.value>0?this.value--:this.handleTimeIsUp()},handleTimeIsUp:function(){this.$emit("after-time-is-up")}},mounted:function(){this.timer=setInterval(this.get,1e3)},beforeDestroy:function(){clearInterval(this.timer)}},A=I,P=(n("7234"),Object(c["a"])(A,j,T,!1,null,"1e993db3",null)),Q=P.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"result"}},[n("div",{staticClass:"box"},[n("div",{staticClass:"title"},[t._v("遊戲結束")]),t._m(0),n("div",{staticClass:"total-point"},[t._v("答對題數 "+t._s(t.num))]),n("div",{staticClass:"ex"},[t._v("獲得經驗值 "+t._s(100+t.ex/4))]),n("div",{staticClass:"btn-group"},[n("button",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.forcesUpdate(e)}}},[t._v("再來一場")]),n("router-link",{attrs:{to:"/"}},[t._v("結束這回合")])],1)])])},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"who"},[n("div",[n("img",{attrs:{src:"orange.png",alt:""}}),n("div",[t._v("Walle")])]),n("div",{staticClass:"vs"},[t._v("V.S.")]),n("div",[n("img",{attrs:{src:"apple.png",alt:""}}),n("div",[t._v("電腦")])])])}],R={props:{total:{type:Number,required:!0},cc:{type:Number,required:!0}},data:function(){return{ex:this.total,num:this.cc}},methods:{forcesUpdate:function(){this.$emit("after-forces-update")}}},L=R,D=(n("e41b"),Object(c["a"])(L,B,U,!1,null,"39d47560",null)),K=D.exports,N=n("bc3a"),M=n.n(N),W="http://178.128.57.157/API_questions.php/questions/",F=M.a.create({baseURL:W}),G=F,J={get:function(){return G.get("/?StartChapter=1&StartSection=1&Level=1")}},H=new Audio("bgm.ogg"),V=[],z={name:"game",components:{Question:S,TopArea:Q,Result:K},data:function(){return{questions:[],point:0,qn:0,gameOver:!1,isShow:!1,correctCount:0,componentKey:0}},created:function(){H.pause(),H.currentTime=0,setTimeout(this.fetchQuestion,3e3),setTimeout(this.playBgm,3e3)},methods:{fetchQuestion:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!1!==t.gameOver){e.next=11;break}return e.prev=1,e.next=4,J.get();case 4:n=e.sent,t.questions=n.data[t.qn],e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("error:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},afterClickButton:function(t){var e=t.qn,n=t.questionId,s=t.state;V.push({questionId:n,state:s}),this.qn=e,this.qn<5?this.fetchQuestion():this.endGame()},afterTimeIsUp:function(){this.endGame()},afterForcesUpdate:function(){this.forceRerender()},playBgm:function(){H.play(),H.loop=!0},endGame:function(){this.isShow=!0;var t=document.querySelectorAll(".option");t.forEach((function(t){t.disabled=!0}));var e=V.filter((function(t){return"correct"===t.state}));this.correctCount=e.length,this.point=200*e.length},clearAllSettings:function(){var t=document.querySelectorAll(".option");t.forEach((function(t){t.disabled=!1}))},forceRerender:function(){this.isShow=!1,this.qn=0,this.point=0,V.length=0,this.componentKey+=1,H.pause(),H.currentTime=0,setTimeout(this.fetchQuestion,3e3),setTimeout(this.playBgm,3e3)}},beforeDestroy:function(){this.clearAllSettings()}},X=z,Y=(n("568f"),Object(c["a"])(X,_,b,!1,null,null,null)),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("h1",[t._v("Login")]),n("form",{attrs:{action:"/login",method:"post"}},[t._m(0),t._m(1),n("div",{staticClass:"form-group row justify-content-center"},[n("button",{attrs:{type:"button"}},[n("router-link",{attrs:{to:"/signup"}},[n("img",{attrs:{src:"book.png",alt:""}})])],1),n("button",{attrs:{type:"submit"}},[n("router-link",{attrs:{to:"/"}},[n("img",{attrs:{src:"login.png",alt:""}})])],1)])])])},et=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-3 col-form-label",attrs:{for:"account"}},[t._v("帳號")]),n("div",{staticClass:"col-9"},[n("input",{staticClass:"form-control",attrs:{type:"text",id:"account",name:"account"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-3 col-form-label",attrs:{for:"password"}},[t._v("密碼")]),n("div",{staticClass:"col-9"},[n("input",{staticClass:"form-control",attrs:{type:"password",id:"password",name:"password"}})])])}],nt=(n("7cd5"),{}),st=Object(c["a"])(nt,tt,et,!1,null,"283d9ca1",null),at=st.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("h1",[t._v("微積分知識王")]),n("h2",[t._v("帳號註冊")]),n("form",{attrs:{action:"/login",method:"post"}},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),n("div",{staticClass:"form-group back"},[n("button",{staticClass:"btn btn-light",attrs:{type:"button"}},[n("router-link",{attrs:{to:"/login"}},[t._v("登入")])],1)])])])},rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label",attrs:{for:"name"}},[t._v("姓名")]),n("div",{staticClass:"col-10"},[n("input",{staticClass:"form-control",attrs:{type:"text",id:"name",name:"name",placeholder:"請輸入本名"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label",attrs:{for:"account"}},[t._v("帳號")]),n("div",{staticClass:"col-10"},[n("input",{staticClass:"form-control",attrs:{type:"text",id:"account",name:"account",placeholder:"請輸入帳號"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label",attrs:{for:"password"}},[t._v("密碼")]),n("div",{staticClass:"col-10"},[n("input",{staticClass:"form-control",attrs:{type:"password",id:"password",name:"password",placeholder:"請輸入密碼"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-3 col-form-label",attrs:{for:"password2"}},[t._v("密碼確認")]),n("div",{staticClass:"col-xs-9 col-9"},[n("input",{staticClass:"form-control",attrs:{type:"password",id:"password2",name:"password2",placeholder:"再輸入一次密碼"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label",attrs:{for:"departments"}},[t._v("系所")]),n("select",{attrs:{name:"departments",id:"departments"}},[n("option",{attrs:{value:""}},[t._v("應用數學系")]),n("option",{attrs:{value:""}},[t._v("電子物理學系")]),n("option",{attrs:{value:""}},[t._v("應用化學系")]),n("option",{attrs:{value:""}},[t._v("生物機電工程學系")]),n("option",{attrs:{value:""}},[t._v("土木與水資源工程學系")]),n("option",{attrs:{value:""}},[t._v("資訊工程學系")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group row justify-content-center"},[n("button",{staticClass:"btn btn-lg btn-dark",attrs:{type:"submit"}},[t._v("送出")])])}],ot=(n("0445"),{}),ct=Object(c["a"])(ot,it,rt,!1,null,"5ff1a982",null),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("404 Page Not Found")]),n("router-link",{attrs:{to:"/"}},[t._v("Home")])],1)},pt=[],ft={},dt=Object(c["a"])(ft,ut,pt,!1,null,null,null),vt=dt.exports;s["a"].use(p["a"]);var mt=[{path:"/",name:"home",component:g},{path:"/login",name:"login",component:at},{path:"/signup",name:"signup",component:lt},{path:"/signout",redirect:"/login"},{path:"/game",name:"game",component:Z},{path:"*",name:"not-found",component:vt}],ht=new p["a"]({routes:mt}),gt=ht;s["a"].config.productionTip=!1,new s["a"]({router:gt,render:function(t){return t(u)}}).$mount("#app")},"5ced":function(t,e,n){},"5d1d":function(t,e,n){},"63a7":function(t,e,n){},7234:function(t,e,n){"use strict";var s=n("5d1d"),a=n.n(s);a.a},"7cd5":function(t,e,n){"use strict";var s=n("95b5"),a=n.n(s);a.a},"85ec":function(t,e,n){},"95b5":function(t,e,n){},a19b:function(t,e,n){},c457:function(t,e,n){},cccb:function(t,e,n){"use strict";var s=n("5ced"),a=n.n(s);a.a},e41b:function(t,e,n){"use strict";var s=n("1a22"),a=n.n(s);a.a}});
//# sourceMappingURL=app.a21701c2.js.map